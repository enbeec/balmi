<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <link rel="icon" type="image/svg+xml" href="/vite.svg" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>balmi say hello</title>
  <style>
    body {
      /* hide until Tailwind (body.visible) is loaded */
      visibility: hidden;
    }
  </style>
</head>
<body 
  class="visible" 
  x-data="eventBus($store.eventBus$)"
  @balmi="eventBus$.next($event.detail)"
>
<div
  id="canvas"
  x-ref="canvas"
  x-data="layout(observe('fullscreen:request', 'fullscreen:end'))"
  class="bg-slate-300"
  @panelfocus="focusPanel($event.detail)"
  x-effect="console.info('layout change', { currentBreakpoint, bodyWidth, bodyHeight })"
>
  <div
    class="h-screen p-1 pb-6 md:p-6 md:pb-12 lg:p-12 lg:pb-18"
  >
    <div
      id="foreground"
      :class="foreground + ` ${currentBreakpoint}`"
      class="h-full bg-[cornflowerblue] relative"
    >
      {{> chatPanel }}
      {{> flexPanel }}
      {{> ctrlPanel }}
    </div>
  </div>
</div>
<script defer type="module" src="/src/main.ts"></script>
</body>
</html>
